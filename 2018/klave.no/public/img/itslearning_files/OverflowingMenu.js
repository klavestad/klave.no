function OverflowingMenu(){function u(a){var n=$("#"+f).addClass(c.settings.cssClasses.moreMenu),d=0;a.each(function(a,b){a=$(b);b=a.outerWidth(!0);n.append(a);b>d&&(d=b)});a=b.offset().left;p.innerWidth()-a<=d&&(a=a+k-d);n.css("left",a+"px")}function q(){k=b.outerWidth(!0);var a=0<g.width()-m;m=g.width();a&&($("#"+f).children().each(function(a,c){$(c).insertBefore(b)}),b.hide());var c=Number.POSITIVE_INFINITY,d=g.width()-10,e=k;h.each(function(a,b){b=$(b).outerWidth(!0);if(a>=l||e+b>d||a<h.length-
1&&e+b+k>d)return c=a,!1;e+=b});0<h.length-c&&window.innerWidth>r&&(b.css({display:"inline-block"}),u(h.filter(":gt("+(c-1)+")")))}function v(){e&&clearTimeout(e);e=setTimeout(q,t)}var c=this,p=$(window),g,h,b,k,f,e,t,l,m,r;c.initialize=function(){t=c.settings.windowResizeTimeoutInMilliseconds;g=c.controls.mainMenu;h=c.controls.mainMenuItems;b=c.controls.moreButton;f=c.settings.moreMenuId;l=c.settings.maxNumberOfMainMenuItems;r=c.settings.minScreenWidth||0;m=g.width();"undefined"==typeof l&&(l=Number.POSITIVE_INFINITY);
b.append('<ul id="'+f+'" style="display:none;position:absolute;"></ul>');b.hide();q();p.resize(v);b.children("a").first().on("click keydown",function(a){if("click"===a.type||a.which===CommonConstants.keyCodes.arrowDown)return"false"===$(".c-messages-popup").attr("aria-hidden")&&$(".c-messages__overlay").click(),$("#"+f).toggle(),a.stopPropagation(),!0});$(document).on("click "+CommonTriggers.clickInInnerFrame,function(a){var c=$("#"+f);c.is(":visible")&&(a=$(a.target),b.find("> a").is(a)||b.find("> a").children().is(a)||
c.hide())})};return c};
